query activityByController($controllerId: String, $account: Bytes) {
  addCollateralEvents(where: { controller: $controllerId, account: $account }) {
    id
    timestamp
    vault {
      id
      token {
        ...allERC721Properties
      }
    }
    collateral {
      id
      tokenId
    }
  }
  removeCollateralEvents(
    where: { controller: $controllerId, account: $account }
  ) {
    id
    timestamp
    vault {
      id
      token {
        ...allERC721Properties
      }
    }
    collateral {
      id
      tokenId
    }
  }
  debtDecreasedEvents(where: { controller: $controllerId, account: $account }) {
    id
    timestamp
    vault {
      id
    }
    amount
  }
  debtIncreasedEvents(where: { controller: $controllerId, account: $account }) {
    id
    timestamp
    vault {
      id
    }
    amount
  }
  auctionStartEvents(where: { controller: $controllerId, account: $account }) {
    id
    timestamp
    auction {
      id
      auctionAssetID
      auctionAssetContract {
        ...allERC721Properties
      }
      startPrice
      vault {
        id
        controller {
          id
        }
      }
    }
  }
  auctionEndEvents(where: { controller: $controllerId, account: $account }) {
    id
    timestamp
    auction {
      auctionAssetID
      auctionAssetContract {
        ...allERC721Properties
      }
      endPrice
      vault {
        id
        controller {
          id
        }
      }
    }
  }
}
